<!DOCTYPE html>
<html>
<head>
	<title>Client</title>
	<link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">
	<link href="assets/css/easypichart.css" rel="stylesheet">
	<link rel="stylesheet" href="plugins/morris/morris.css">
	<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" />
	<link href="css/core.css" rel="stylesheet" type="text/css" />
	<link href="css/components.css" rel="stylesheet" type="text/css" />
	<link href="css/icons.css" rel="stylesheet" type="text/css" />
	<link href="css/pages.css" rel="stylesheet" type="text/css" />
	<link href="css/responsive.css" rel="stylesheet" type="text/css" />


	
</head>
<body >
	<!--<img style="width: 100%;height: auto;" id="pesan">-->
<!--<div>
	<p style="text-align:center;font-size:35px;font-family: 'Oswald', sans-serif;" > Penggunaan CPU <span class="cpu"></span>%</p></br>
	<p style="text-align:center;font-size:35px;font-family: 'Oswald', sans-serif;" > Penggunaan Memory <span class="mem"></span>%</p></br>
	<p style="text-align:center;font-size:35px;font-family: 'Oswald', sans-serif;" > Jumlah Request <span class="req"></span></p>	
</div>-->
<div class="card-box">
    <h4 class="text-dark header-title m-t-0 m-b-30">Total Revenue</h4>

    <div class="widget-chart text-center">
      <input class="knob" data-width="150" data-height="150" data-linecap=round data-fgColor="#fb6d9d" value="80" data-skin="tron" data-angleOffset="180" data-readOnly=true data-thickness=".15"/>
	    <h5 class="text-muted m-t-20">Total sales made today</h5>
			<h2 class="font-600">$75</h2>
				<ul class="list-inline m-t-15">
						<li>
							<h5 class="text-muted m-t-20">Target</h5>
							<h4 class="m-b-0">$1000</h4>
						</li>
						<li>
							<h5 class="text-muted m-t-20">Last week</h5>
							<h4 class="m-b-0">$523</h4>
						</li>
						<li>
							<h5 class="text-muted m-t-20">Last Month</h5>
							<h4 class="m-b-0">$965</h4>
						</li>
				</ul>
</div>
                        		</div>
<div class="radial-progress" data-progress="0">
  <div class="circle">
    <div class="mask full">
      <div class="fill"></div>
    </div>
    <div class="mask half">
      <div class="fill"></div>
      <div class="fill fix"></div>
    </div>
    <div class="shadow"></div>
  </div>
  <div class="inset">
    <div class="percentage">
      <div class="numbers"><span>-</span><span>0%</span><span>1%</span><span>2%</span><span>3%</span><span>4%</span><span>5%</span><span>6%</span><span>7%</span><span>8%</span><span>9%</span><span>10%</span><span>11%</span><span>12%</span><span>13%</span><span>14%</span><span>15%</span><span>16%</span><span>17%</span><span>18%</span><span>19%</span><span>20%</span><span>21%</span><span>22%</span><span>23%</span><span>24%</span><span>25%</span><span>26%</span><span>27%</span><span>28%</span><span>29%</span><span>30%</span><span>31%</span><span>32%</span><span>33%</span><span>34%</span><span>35%</span><span>36%</span><span>37%</span><span>38%</span><span>39%</span><span>40%</span><span>41%</span><span>42%</span><span>43%</span><span>44%</span><span>45%</span><span>46%</span><span>47%</span><span>48%</span><span>49%</span><span>50%</span><span>51%</span><span>52%</span><span>53%</span><span>54%</span><span>55%</span><span>56%</span><span>57%</span><span>58%</span><span>59%</span><span>60%</span><span>61%</span><span>62%</span><span>63%</span><span>64%</span><span>65%</span><span>66%</span><span>67%</span><span>68%</span><span>69%</span><span>70%</span><span>71%</span><span>72%</span><span>73%</span><span>74%</span><span>75%</span><span>76%</span><span>77%</span><span>78%</span><span>79%</span><span>80%</span><span>81%</span><span>82%</span><span>83%</span><span>84%</span><span>85%</span><span>86%</span><span>87%</span><span>88%</span><span>89%</span><span>90%</span><span>91%</span><span>92%</span><span>93%</span><span>94%</span><span>95%</span><span>96%</span><span>97%</span><span>98%</span><span>99%</span><span>100%</span></div>
    </div>
  </div>
</div>

</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
<script src="js/jquery.easypiechart.js"></script>	
<script src="http://www.jqueryscript.net/demo/Smooth-Circle-Chart-Plugin-with-jQuery-CSS3-Circle-Charts/js/jquery.circlechart.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.6.1/less.min.js"></script>
<script src="js/modernizr.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/detect.js"></script>
<script src="js/fastclick.js"></script>
<script src="js/jquery.slimscroll.js"></script>
<script src="js/jquery.blockUI.js"></script>
<script src="js/waves.js"></script>
<script src="js/wow.min.js"></script>
<script src="js/jquery.nicescroll.js"></script>
<script src="js/jquery.scrollTo.min.js"></script>
<script src="plugins/peity/jquery.peity.min.js"></script>       <!-- jQuery  -->
<script src="plugins/waypoints/lib/jquery.waypoints.js"></script>
<script src="plugins/counterup/jquery.counterup.min.js"></script>
<script src="plugins/morris/morris.min.js"></script>
<script src="plugins/raphael/raphael-min.js"></script>
<script src="plugins/jquery-knob/jquery.knob.js"></script>
<script src="pages/jquery.dashboard.js"></script>
<script src="js/jquery.core.js"></script>
<script src="js/jquery.app.js"></script>

	<script>
	  // var socket = io('http://203.24.50.67:1111');
		setTimeout(function () {
										console.log(socket.connected);										
                    if(socket.connected == false){ 
											alert("data dari server tidak diterima, periksa koneksi dan script, atau coba lagi");
											document.getElementById("pesan").setAttribute('src','x.png');
								 }
                 }, 4000);
		
		socket.on('data_cpu',function(data){		
			console.log(data);
			// $('.cpu').text(data.cpu)
			// $('.radial-progress').attr('data-progress', data.cpu);
		  // if( data.cpu === null ){ alert ("kapasitas CPU "+data.cpu+"% mohon segera bakar anjing anda !!");}
		});
		socket.on('data_mem',function(data){		
			console.log(data);
			$('.mem').text(data.mem)
		  // if( data.cpu === null ){ alert ("kapasitas CPU "+data.cpu+"% mohon segera bakar anjing anda !!");}
		});
	  socket.on('data_status', function (data) {
	  	console.log(data.pesan);
	    socket.emit('data_client', { pesan : 'Fuck Off' });
			if(data.pesan == "1"){
				$('#pesan').attr('src','ripple.gif');						
			}
			else{
				$('#pesan').attr('src','alert.gif');				
			}
	  });
		socket.on('disconnect', function () {
  			alert('Socket is disconnected.');
				$('#pesan').attr('src','x.png');
		});

		//ambil data traffic cpu
	setInterval(
		function(){
		$.getJSON( "http://203.24.50.67:2020/laporan", function( data ) {
			// console.log(data.general.total_requests);
			$('.req').text(data.general.total_requests);
			})},1000);	

	 $(function() {
			$('head style[type="text/css"]').attr('type', 'text/less');
				less.refreshStyles();
				window.randomize = function() {
  $('.radial-progress').attr('data-progress', Math.floor(Math.random() * 100));
}
				setTimeout(window.randomize, 200);
				$('.radial-progress').click(window.randomize);
			  jQuery(document).ready(function($) {
                $('.counter').counterUp({
                    delay: 100,
                    time: 1200
                });

                $(".knob").knob();

            });
    });
	</script>
</html>